<?xml version="1.0" encoding="utf-8"?>
<html xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"><head><meta charset="utf-8"/><title>EPUB Media Overlays 3.0</title><link rel="stylesheet" type="text/css" href="../css/epub-spec.css"/></head><body><h1 class="title">EPUB Media Overlays 3.0</h1><p class="identity"><span class="releaseinfo">Recommended Specification</span> <span class="pubdate">11 October 2011</span></p><dl class="printhistory"><dt>This version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-mediaoverlays-20111011.html">http://www.idpf.org/epub/30/spec/epub30-mediaoverlays-20111011.html</a> </dd><dt>Latest version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-mediaoverlays.html">http://www.idpf.org/epub/30/spec/epub30-mediaoverlays.html</a> </dd><dt>Previous version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-mediaoverlays-20110908.html">http://www.idpf.org/epub/30/spec/epub30-mediaoverlays-20110908.html</a> </dd></dl><p class="diff"> A diff of changes from the previous draft is available at <a href="http://code.google.com/p/epub-revision/source/diff?spec=svn3218&amp;old=3183&amp;r=3218&amp;format=side&amp;path=%2Ftrunk%2Fsrc%2Fspec%2Fepub30-mediaoverlays.xml">this link</a>. </p><p class="errata"> Please refer to the <a href="http://idpf.org/epub/30/spec/epub30-mediaoverlays-errata/">errata</a> for this document, which may include some normative corrections. </p><div class="legal"><p class="copyright">Copyright © 2010, 2011 International Digital Publishing Forum™</p><div class="legalnotice" title="Legal Notice"><a id="d43094e48"/><p>All rights reserved. This work is protected under Title 17 of the United States Code. Reproduction and dissemination of this work with changes is prohibited except with the written permission of the <a href="http://www.idpf.org">International Digital Publishing Forum (IDPF)</a>. </p><p>EPUB is a registered trademark of the International Digital Publishing Forum.</p></div></div><div class="authorgroup"><p class="bridgehead">Editors</p><p class="editor">Marisa DeMeglio, DAISY Consortium </p><p class="editor">Daniel Weck, DAISY Consortium </p></div><nav class="toc" id="toc"><p><strong>Table of Contents</strong></p><ol><li><a href="#sec-overview">1. Overview</a></li><li><ol><li><a href="#sec-overview-purpose-and-scope">1.1. Purpose and Scope</a></li><li><a href="#sec-overview-relationship">1.2. Relationship to Other Specifications</a></li><li><a href="#sec-conformance">1.4. Conformance Statements</a></li></ol></li><li><a href="#sec-media-overlays-document-definition">2. Media Overlay Document Definition</a></li><li><ol><li><a href="#sec-overlays-introduction">2.1. Introduction</a></li><li><a href="#sec-overlays-content-conf">2.2. Content Conformance</a></li><li><a href="#sec-overlays-rs-conf">2.3. Reading System Conformance</a></li><li><a href="#sec-overlays-def">2.4. Media Overlay Document Definition</a></li><li><ol><li><a href="#sec-smil-smil-elem">2.4.1. The <code class="literal">smil</code> Element</a></li><li><a href="#sec-smil-head-elem">2.4.2. The <code class="literal">head</code> Element</a></li><li><a href="#sec-smil-metadata-elem">2.4.3. The <code class="literal">metadata</code> Element</a></li><li><a href="#sec-smil-body-elem">2.4.4. The <code class="literal">body</code> Element</a></li><li><a href="#sec-smil-seq-elem">2.4.5. The <code class="literal">seq</code> Element</a></li><li><a href="#sec-smil-par-elem">2.4.6. The <code class="literal">par</code> Element</a></li><li><a href="#sec-smil-text-elem">2.4.7. The <code class="literal">text</code> Element</a></li><li><a href="#sec-smil-audio-elem">2.4.8. The <code class="literal">audio</code> Element</a></li></ol></li></ol></li><li><a href="#sec-overlay-docs">3. Creating Media Overlays</a></li><li><ol><li><a href="#sec-docs-overview">3.1. Overview</a></li><li><a href="#sec-docs-relations">3.2. Relationship to the EPUB Content Document</a></li><li><ol><li><a href="#sec-media-overlays-structure">3.2.1. Structure </a></li><li><a href="#sec-media-overlays-granularity">3.2.2. Granularity</a></li><li><a href="#sec-audio-video">3.2.3. Embedded Audio and Video</a></li><li><a href="#sec-tts">3.2.4. Text-to-Speech</a></li></ol></li><li><a href="#sec-docs-semantic-inflection">3.3. Semantic Inflection</a></li><li><a href="#sec-docs-assoc-style">3.4. Associating Style Information</a></li><li><a href="#sec-docs-package">3.5. Packaging</a></li><li><ol><li><a href="#sec-package-including">3.5.1. Including Media Overlays</a></li><li><a href="#sec-package-metadata">3.5.2. Media Overlays Metadata Vocabulary</a></li></ol></li></ol></li><li><a href="#sec-overlay-behaviors">4. Playback Behaviors</a></li><li><ol><li><a href="#sec-behaviors-loading">4.1. Loading the Media Overlay</a></li><li><a href="#sec-behaviors-playback">4.2. Basic Playback</a></li><li><ol><li><a href="#sec-rsconf-timing-synch">4.2.1. Timing and Synchronization</a></li><li><a href="#sec-rsconf-rendering-audio">4.2.2. Rendering Audio</a></li><li><a href="#sec-rsconf-rendering-text">4.2.3. Rendering EPUB Content Document Elements</a></li></ol></li><li><a href="#sec-behaviors-interaction">4.3. Interacting with the EPUB Content Document</a></li><li><ol><li><a href="#sec-rsconf-navigation">4.3.1. Navigation</a></li><li><a href="#sec-embedded-media">4.3.2. Embedded Audio and Video</a></li><li><a href="#sec-text-to-speech">4.3.3. Text-to-Speech</a></li></ol></li><li><a href="#sec-behaviors-skip-escape">4.4. Skippability and Escapability</a></li><li><ol><li><a href="#sec-skippability">4.4.1. Skippability</a></li><li><a href="#sec-escabaility">4.4.2. Escapability</a></li></ol></li></ol></li><li><a href="#app-overlays-schema">A. Media Overlays Schema</a></li><li><ol><li><a href="#app-overlays-schema-using">A.1. Using the Media Overlays Schema</a></li></ol></li><li><a href="#app-clock-examples">B. Examples of Clock Values</a></li></ol></nav><section class="chapter" title="1 Overview" id="sec-overview"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview">›</a> </span>1 Overview</h2><section class="section" title="1.1 Purpose and Scope" id="sec-overview-purpose-and-scope"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-purpose-and-scope">›</a> </span>1.1 Purpose and Scope</h3><p class="informative"> This section is informative</p><p>This specification, EPUB Media Overlays 3.0, defines a usage of <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a> (Synchronized Multimedia Integration Language), the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a>, the <a class="glossterm" href="epub30-terminology.xhtml#gloss-stylesheet" title="EPUB Style Sheet (or Style Sheet)">EPUB® Style Sheet</a>, and the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> for representation of audio synchronized with the EPUB Content Document.</p><p id="sibling-specs">This specification is one of a family of related specifications that compose EPUB 3, the third major revision of an interchange and delivery format for digital publications based on XML and Web Standards. It is meant to be read and understood in concert with the other specifications that make up EPUB 3:</p><div class="itemizedlist" id="epub-specs-listing"><ul class="itemizedlist"><li class="listitem"><p>The EPUB 3 Overview <a class="biblioref" href="epub30-references.xhtml#refEPUB3Overview" title="EPUB 3 Overview">[<abbr>EPUB3Overview</abbr>]</a>, which provides an informative overview of EPUB and a roadmap to the rest of the EPUB 3 documents. The Overview should be read first.</p></li><li class="listitem"><p>EPUB Publications 3.0 <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a>, which defines publication-level semantics and overarching conformance requirements for <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s.</p></li><li class="listitem"><p>EPUB Content Documents 3.0 <a class="biblioref" href="epub30-references.xhtml#refContentDocs3" title="EPUB Content Documents 3.0">[<abbr>ContentDocs30</abbr>]</a>, which defines profiles of XHTML, SVG and CSS for use in the context of <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s.</p></li><li class="listitem"><p>EPUB Open Container Format (OCF) 3.0 <a class="biblioref" href="epub30-references.xhtml#refOCF30" title="Open Container Format 3.0">[<abbr>OCF3</abbr>]</a>, which defines a file format and processing model for encapsulating a set of related resources into a single-file (ZIP) <a class="glossterm" href="epub30-terminology.xhtml#gloss-container" title="EPUB Container (or Container)">EPUB Container</a>. </p></li></ul></div></section><section class="section" title="1.2 Relationship to Other Specifications" id="sec-overview-relationship"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-relationship">›</a> </span>1.2 Relationship to Other Specifications</h3><p class="informative"> This section is informative</p><p>This specification relies on a subset of <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a>, from which the EPUB Media Overlays elements and attributes defined in <a class="xref" href="#sec-overlays-def" title="2.4 Media Overlay Document Definition">Media Overlay Document Definition</a> are derived.</p></section><section class="section" title="1.4 Conformance Statements" id="sec-conformance"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-conformance">›</a> </span>1.4 Conformance Statements</h3><p>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class="biblioref" href="epub30-references.xhtml#refRFC2119" title="Key words for use in RFCs to Indicate Requirement Levels (RFC 2119)">[<abbr>RFC2119</abbr>]</a>. </p><p>All sections of this specification are normative except where identified by the informative status label "This section is informative". The application of informative status to sections and appendices applies to all child content and subsections they may contain.</p><p>All examples in this specification are informative.</p></section></section><section class="chapter" title="2 Media Overlay Document Definition" id="sec-media-overlays-document-definition"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-media-overlays-document-definition">›</a> </span>2 Media Overlay Document Definition</h2><section class="section" title="2.1 Introduction" id="sec-overlays-introduction"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlays-introduction">›</a> </span>2.1 Introduction</h3><p class="informative"> This section is informative</p><p>Books featuring synchronized audio narration are found in mainstream e-books, educational tools and e-books formatted for persons with print disabilities. In EPUB 3, these types of books are created by using Media Overlay Documents to describe the timing for the pre-recorded audio narration and how it relates to the EPUB Content Document markup. The file format for Media Overlays is defined as a subset of <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">SMIL</a>, a W3C recommendation for representing synchronized multimedia information in XML.</p><p>The Media Overlays feature is designed to be transparent to <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a>s that do not support the feature. The inclusion of Media Overlays in an EPUB Publication has no impact on the ability of Media Overlay-unaware Reading Systems to render that Publication as a "regular" EPUB Publication. </p><p>Although future versions of this specification may incorporate support for video media (e.g., synchronized text/sign-language books), this version supports only synchronizing audio media with the EPUB Content Document. </p></section><section class="section" title="2.2 Content Conformance" id="sec-overlays-content-conf"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlays-content-conf">›</a> </span>2.2 Content Conformance</h3><p>A <a class="glossterm" href="epub30-terminology.xhtml#gloss-media-overlay-document" title="Media Overlay Document">Media Overlay Document</a> must meet all of the following criteria:</p><div class="conformance-list"><dl><dt class="varlistentry" id="confreq-mo-docprops"><span class="term">Document Properties</span></dt><dd><p id="confreq-mo-xml"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-xml">›</a> </span> <span class="phrase">It must meet the conformance constraints for XML documents defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-xml-constraints">XML Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </span> </p><p id="confreq-mo-docprops-schema"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-docprops-schema">›</a> </span>It must be valid to the Media Overlays schema as defined in <a class="xref" href="#app-overlays-schema" title="Appendix A. Media Overlays Schema">Appendix A, <em>Media Overlays Schema</em></a> and conform to all content conformance constraints expressed in <a class="xref" href="#sec-overlays-def" title="2.4 Media Overlay Document Definition">Media Overlay Document Definition</a>. </p><p id="confreq-mo-docprops-structure"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-docprops-structure">›</a> </span>It must be authored to reflect the structure of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> with which it is associated, as stated in <a class="xref" href="#sec-media-overlays-structure" title="3.2.1 Structure">Structure </a>. </p><p id="confreq-mo-docprops-embed"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-docprops-embed">›</a> </span><a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s should avoid using scripts to control audio and video embedded in the EPUB Content Document, as stated in <a class="xref" href="#sec-audio-video" title="3.2.3 Embedded Audio and Video">Embedded Audio and Video</a>. </p><p id="confreq-mo-docprops-semantics"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-docprops-semantics">›</a> </span>It should use semantic markup where appropriate, as described in <a class="xref" href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">Semantic Inflection</a>. </p><p id="confreq-mo-docprops-package"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-docprops-package">›</a> </span>It must be packaged with the <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a> as shown in <a class="xref" href="#sec-docs-package" title="3.5 Packaging">Packaging</a>. </p></dd><dt class="varlistentry" id="confreq-mo-fileprops"><span class="term">File Properties</span></dt><dd><p id="confreq-mo-fileprops-name"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mo-fileprops-name">›</a> </span>The Media Overlay Document filename should use the file extension <code class="filename">.smil</code>.</p></dd></dl></div></section><section class="section" title="2.3 Reading System Conformance" id="sec-overlays-rs-conf"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlays-rs-conf">›</a> </span>2.3 Reading System Conformance</h3><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> support for Media Overlays is optional. A Reading System that supports Media Overlays must meet the following criteria:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-rs-package-def"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-package-def">›</a> </span>It must process the Media Overlay Document in conformance with all Reading System conformance constraints expressed in <a class="xref" href="#sec-overlays-def" title="2.4 Media Overlay Document Definition">Media Overlay Document Definition</a>. </p><p id="confreq-rs-xhtml-svg"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-xhtml-svg">›</a> </span>It must support <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s, and it may support <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s.</p><p id="confreq-rs-render"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-render">›</a> </span>It must render Media Overlay elements as described in <a class="xref" href="#sec-behaviors-playback" title="4.2 Basic Playback">Basic Playback</a>. </p><p id="confreq-rs-navigation"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-navigation">›</a> </span>It must allow <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a> navigation while a Media Overlay is being played, as discussed in <a class="xref" href="#sec-rsconf-navigation" title="4.3.1 Navigation">Navigation</a>. </p><p id="confreq-rs-embed"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-embed">›</a> </span>It must adhere to rules regarding referenced audio and video embedded in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>, as stated in <a class="xref" href="#sec-embedded-media" title="4.3.2 Embedded Audio and Video">Embedded Audio and Video</a>. </p><p id="confreq-rs-tts"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-tts">›</a> </span><a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a>-capable Reading Systems should conform to <span class="phrase"><a href="epub30-publications.xhtml#confreq-rs-epub3-tts">Reading System Text-to-Speech Conformance Requirements</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </p><p id="confreq-rs-skip-escape"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-skip-escape">›</a> </span>It should offer the skippability and escapability features described in <a class="xref" href="#sec-behaviors-skip-escape" title="4.4 Skippability and Escapability">Skippability and Escapability</a>. </p></li></ul></div><p>A Reading System that does not support Media Overlays must meet the following criteria:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-rs-mo-ignore"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-mo-ignore">›</a> </span>It must ignore both the <code>media-overlay</code> attribute on <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code><span class="phrase"><a href="epub30-publications.xhtml#elemdef-package-item">item</a></span></code> elements and the manifest <code>item</code> elements where the <code>media-type</code> attribute value equals <code class="literal">application/smil+xml</code>. </p></li></ul></div></section><section class="section" title="2.4 Media Overlay Document Definition" id="sec-overlays-def"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlays-def">›</a> </span>2.4 Media Overlay Document Definition</h3><p>All elements <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> defined in this section are in the <code class="literal">http://www.w3.org/ns/SMIL</code> namespace <a class="biblioref" href="epub30-references.xhtml#refXMLNamespaces" title="Namespaces in XML (Third Edition)">[<abbr>XMLNS</abbr>]</a> unless otherwise specified.</p><section class="section" title="2.4.1 The smil Element" id="sec-smil-smil-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-smil-elem">›</a> </span>2.4.1 The <code class="literal">smil</code> Element</h4><p>The <code class="literal">smil</code> element must be the root element of all Media Overlay Documents. </p><div class="elem-synopsis" id="elemdef-smil"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">smil</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>The <code class="literal">smil</code> element is the root element of the Media Overlay Document.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">version</code> <code class="option">[required]</code> </span></dt><dd><p>Specifies the version number of the <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a> specification to which the Media Overlay adheres. </p><p>This attribute must have the value <code class="literal">3.0</code> to indicate compliance with this version of the specification.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry" id="attrdef-smil-prefix"><span class="term"> <code class="literal">epub:prefix</code> <code class="option">[optional]</code> </span></dt><dd><p>Declares additional metadata vocabulary prefixes.</p><p>Refer to <a class="xref" href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">Semantic Inflection</a> for more information.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>In this order: <code class="literal"> <a class="xref" href="#elemdef-smil-head">head</a></code> <code class="option">[optional]</code>, <code class="literal"><a class="xref" href="#elemdef-smil-body">body</a></code> <code class="option">[required]</code></p></dd></dl></div></section><section class="section" title="2.4.2 The head Element" id="sec-smil-head-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-head-elem">›</a> </span>2.4.2 The <code class="literal">head</code> Element</h4><p>The <code class="literal">head</code> element is the container for metadata in the Media Overlay Document, and consists of zero or one child <code class="literal">metadata</code> element.</p><div class="elem-synopsis" id="elemdef-smil-head"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">head</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>The <code class="literal">head</code> element is the optional first child of the <a class="xref" href="#elemdef-smil">smil</a> element.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><p>None.</p></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p><code class="literal"><a class="xref" href="#elemdef-smil-metadata">metadata</a></code> <code class="option">[0 or 1]</code>.</p></dd></dl></div><p>As this specification defines no metadata properties that must occur in the Media Overlay Document, the <code class="literal">head</code> element is optional.</p></section><section class="section" title="2.4.3 The metadata Element" id="sec-smil-metadata-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-metadata-elem">›</a> </span>2.4.3 The <code class="literal">metadata</code> Element</h4><p>The <code class="literal">metadata</code> element represents metadata for the Media Overlay Document. The <code class="literal">metadata</code> element is an extension point that allows the inclusion of metadata from any metainformation structuring language.</p><div class="elem-synopsis" id="elemdef-smil-metadata"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">metadata</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>As a child of the <a class="xref" href="#elemdef-smil-head">head</a> element.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><p>None.</p></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p><code class="option">[0 or more]</code> elements from any namespace.</p></dd></dl></div><p>This specification defines no metadata properties that must occur in the Media Overlay Document; the <code class="literal">metadata</code> element is provided for custom metadata requirements.</p></section><section class="section" title="2.4.4 The body Element" id="sec-smil-body-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-body-elem">›</a> </span>2.4.4 The <code class="literal">body</code> Element</h4><p>The <code class="literal">body</code> element is the starting point for the presentation contained in the Media Overlay Document. It contains the main sequence of <code class="literal">par</code> and <code class="literal">seq</code> elements. </p><div class="elem-synopsis" id="elemdef-smil-body"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">body</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>The <code class="literal">body</code> element is the required second child of the <a class="xref" href="#elemdef-smil">smil</a> element.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry" id="addrdef-smil-body-type"><span class="term"> <code class="literal">epub:type</code> <code class="option">[optional]</code> </span></dt><dd><p>An expression of the structural semantics of the corresponding element in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. </p><p>The value is a whitespace separated list of <span class="phrase"><a href="epub30-publications.xhtml#sec-property-datatype">property</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> types. Refer to <a class="xref" href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">Semantic Inflection</a> for more information.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry" id="attrdef-body-textref"><span class="term"> <code class="literal">epub:textref</code> <code class="option">[optional]</code> </span></dt><dd><p>The relative IRI reference <a class="biblioref" href="epub30-references.xhtml#refRFC3987" title="Internationalized Resource Identifiers (IRIs) (RFC 3987)">[<abbr>RFC3987</abbr>]</a> of the corresponding EPUB Content Document, including a fragment identifier that references the specific element as per the <a class="biblioref" href="epub30-references.xhtml#refXPTRSH" title="XPointer Shorthand Notation">[<abbr>XPTRSH</abbr>]</a>. </p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>In any order: <code class="literal"><a class="xref" href="#elemdef-smil-seq">seq</a></code> <code class="option">[0 or more]</code> or <code class="literal"><a class="xref" href="#elemdef-smil-par">par</a></code> <code class="option">[0 or more]</code></p><p>At least one <code>par</code> or <code>seq</code> is required.</p></dd></dl></div></section><section class="section" title="2.4.5 The seq Element" id="sec-smil-seq-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-seq-elem">›</a> </span>2.4.5 The <code class="literal">seq</code> Element</h4><p>The <code class="literal">seq</code> element contains media objects which are to be rendered sequentially. </p><div class="elem-synopsis" id="elemdef-smil-seq"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">seq</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>One or more <code class="literal">seq</code> elements may occur as children of the <a class="xref" href="#elemdef-smil-body">body</a> element and of the <a class="xref" href="#elemdef-smil-seq">seq</a> element.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">epub:type</code> <code class="option">[optional]</code> </span></dt><dd><p>An expression of the structural semantics of the corresponding element in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. </p><p>The value is a whitespace separated list of <span class="phrase"><a href="epub30-publications.xhtml#sec-property-datatype">property</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> types. Refer to <a class="xref" href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">Semantic Inflection</a> for more information.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry" id="attrdef-seq-textref"><span class="term"> <code class="literal">epub:textref</code> <code class="option">[required]</code> </span></dt><dd><p>The relative IRI reference <a class="biblioref" href="epub30-references.xhtml#refRFC3987" title="Internationalized Resource Identifiers (IRIs) (RFC 3987)">[<abbr>RFC3987</abbr>]</a> of the corresponding EPUB Content Document, including a fragment identifier that references the specific element as per the <a class="biblioref" href="epub30-references.xhtml#refXPTRSH" title="XPointer Shorthand Notation">[<abbr>XPTRSH</abbr>]</a>. </p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>In any order: <code class="literal"><a class="xref" href="#elemdef-smil-seq">seq</a></code> <code class="option">[0 or more]</code> or <code class="literal"><a class="xref" href="#elemdef-smil-par">par</a></code> <code class="option">[0 or more]</code>.</p><p>At least one <code>par</code> or <code>seq</code> is required.</p></dd></dl></div></section><section class="section" title="2.4.6 The par Element" id="sec-smil-par-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-par-elem">›</a> </span>2.4.6 The <code class="literal">par</code> Element</h4><p>The <code class="literal">par</code> element contains media objects which are to be rendered in parallel. </p><div class="elem-synopsis" id="elemdef-smil-par"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">par</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>One or more <code class="literal">par</code> elements may occur as children of the <a class="xref" href="#elemdef-smil-body">body</a> and <a class="xref" href="#elemdef-smil-seq">seq</a> elements.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">epub:type</code> <code class="option">[optional]</code> </span></dt><dd><p>An expression of the structural semantics of the corresponding element in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. </p><p>The value is a whitespace separated list of <span class="phrase"><a href="epub30-publications.xhtml#sec-property-datatype">property</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> types. Refer to <a class="xref" href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">Semantic Inflection</a> for more information.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>In any order: <code class="literal"><a class="xref" href="#elemdef-smil-text">text</a></code> <code class="option">[required]</code> and <code class="literal"><a class="xref" href="#elemdef-smil-audio">audio</a></code> <code class="option">[optional]</code></p><p>The <a class="xref" href="#elemdef-smil-audio">audio</a> element is optional only if its sibling <a class="xref" href="#elemdef-smil-text">text</a> element refers to audio or video media (see <a class="xref" href="#sec-audio-video" title="3.2.3 Embedded Audio and Video">Embedded Audio and Video</a>), or to textual content intended for rendering via <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a>. </p></dd></dl></div></section><section class="section" title="2.4.7 The text Element" id="sec-smil-text-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-text-elem">›</a> </span>2.4.7 The <code class="literal">text</code> Element</h4><p>The <code class="literal">text</code> element references an element in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. A <code class="literal">text</code> element typically refers to a textual element, but can also refer to other EPUB Content Document media elements (see <a class="xref" href="#sec-audio-video" title="3.2.3 Embedded Audio and Video">Embedded Audio and Video</a>).</p><div class="elem-synopsis" id="elemdef-smil-text"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">text</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>As a required child of the <a class="xref" href="#elemdef-smil-par">par</a> element.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">src</code> <code class="option">[required]</code> </span></dt><dd><p>The relative IRI reference <a class="biblioref" href="epub30-references.xhtml#refRFC3987" title="Internationalized Resource Identifiers (IRIs) (RFC 3987)">[<abbr>RFC3987</abbr>]</a> of the corresponding EPUB Content Document, including a fragment identifier that references the specific element as per the <a class="biblioref" href="epub30-references.xhtml#refXPTRSH" title="XPointer Shorthand Notation">[<abbr>XPTRSH</abbr>]</a>. </p></dd><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>Empty.</p></dd></dl></div></section><section class="section" title="2.4.8 The audio Element" id="sec-smil-audio-elem"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-smil-audio-elem">›</a> </span>2.4.8 The <code class="literal">audio</code> Element</h4><p>The <code class="literal">audio</code> element represents a clip of audio media.</p><div class="elem-synopsis" id="elemdef-smil-audio"><dl><dt class="varlistentry"><span class="term">Element Name</span></dt><dd><p> <code class="literal">audio</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>A required child of the <a class="xref" href="#elemdef-smil-par">par</a> element unless its sibling <a class="xref" href="#elemdef-smil-text">text</a> element refers to audio or video media, in which case it is optional (see <a class="xref" href="#sec-audio-video" title="3.2.3 Embedded Audio and Video">Embedded Audio and Video</a>).</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">src</code> <code class="option">[required]</code> </span></dt><dd><p>The relative or absolute IRI reference <a class="biblioref" href="epub30-references.xhtml#refRFC3987" title="Internationalized Resource Identifiers (IRIs) (RFC 3987)">[<abbr>RFC3987</abbr>]</a> of an audio file. The audio file must be one of the audio formats listed in the <span class="phrase"><a href="epub30-publications.xhtml#sec-core-media-types">Core Media Types</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> table.</p></dd><dt class="varlistentry" id="attrdef-smil-clipBegin"><span class="term"> <code class="literal">clipBegin</code> <code class="option">[optional]</code> </span></dt><dd><p>A clock value that specifies the offset into the physical media corresponding to the start point of an audio clip.</p><p> Clock values are a subset of <a href="http://www.w3.org/TR/SMIL/smil-timing.html#q22">SMIL clock values</a>, defined in <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a>. See <a class="xref" href="#app-clock-examples" title="Appendix B. Examples of Clock Values">Appendix B, <em>Examples of Clock Values</em></a>. </p></dd><dt class="varlistentry" id="attrdef-smil-clipEnd"><span class="term"> <code class="literal">clipEnd</code> <code class="option">[optional]</code> </span></dt><dd><p>A clock value that specifies the offset into the physical media corresponding to the end point of an audio clip.</p><p> Clock values are a subset of <a href="http://www.w3.org/TR/SMIL/smil-timing.html#q22">SMIL clock values</a>, defined in <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a>. See <a class="xref" href="#app-clock-examples" title="Appendix B. Examples of Clock Values">Appendix B, <em>Examples of Clock Values</em></a>. </p><p>The chronological offset of the terminating position must be after the starting offset specified in the <code class="literal">clipBegin</code> attribute.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>Empty.</p></dd></dl></div></section></section></section><section class="chapter" title="3 Creating Media Overlays" id="sec-overlay-docs"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlay-docs">›</a> </span>3 Creating Media Overlays</h2><section class="section" title="3.1 Overview" id="sec-docs-overview"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-docs-overview">›</a> </span>3.1 Overview</h3><p class="informative"> This section is informative</p><p>A pre-recorded narration of a publication can be represented as a series of audio clips, each corresponding to part of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. A single audio clip, for example, typically represents a single phrase or paragraph, but infers no order relative to the other clips or to the text of a document. Media Overlays solve this problem of synchronization by tying the structured audio narration to its corresponding text (or other media) in the EPUB Content Document using <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">SMIL</a> markup. Media Overlays are, in fact, a simplified subset of SMIL 3.0 that allow the playback sequence of these clips to be defined.</p><p>The SMIL elements primarily used for structuring Media Overlays are <code><a href="#elemdef-smil-body">body</a></code> (used for the main sequence), <code><a href="#elemdef-smil-seq">seq</a></code> (sequence) and <code><a href="#elemdef-smil-par">par</a></code> (parallel). (Refer to <a class="xref" href="#sec-overlays-def" title="2.4 Media Overlay Document Definition">Media Overlay Document Definition</a> for more information on these and other SMIL elements.)</p><p>The <code class="literal">par</code> element is the basic building block of an Overlay and corresponds to a phrase in the EPUB Content Document. The element provides two key pieces of information for synchronizing content: 1) the audio clip containing the narration for the phrase; and 2) a pointer to the associated EPUB Content Document fragment. The <code class="literal">par</code> element uses two media element children to represent this information: an <code><a href="#elemdef-smil-audio">audio</a></code> element and a <code><a href="#elemdef-smil-text">text</a></code> element. Since <code class="literal">par</code> elements render their children in parallel, the audio clip and EPUB Content Document fragment are played at the same time, resulting in a synchronized presentation. </p><p>The <code class="literal">text</code> element <code class="literal">src</code> attribute references the associated phrase, sentence, or other segment of the EPUB Content Document by its IRI reference. The <code class="literal">audio</code> element <code class="literal">src</code> attribute similarly references the location of the corresponding audio clip, and adds the optional <code><a href="#attrdef-smil-clipBegin">clipBegin</a></code> and <code><a href="#attrdef-smil-clipEnd">clipEnd</a></code> attributes to indicate a specific offset within the clip.</p><div class="informalexample"><p>The following example shows the Media Overlays markup for a single phrase or sentence.</p><pre class="synopsis">&lt;par&gt;                        
    &lt;text src="chapter1.xhtml#sentence1"/&gt;
    &lt;audio src="chapter1_audio.mp3" clipBegin="23s" clipEnd="30s"/&gt;
&lt;/par&gt;</pre></div><p><code class="literal">par</code> elements are placed together sequentially to form a series of phrases or sentences. Not every element of the EPUB Content Document will have a corresponding <code class="literal">par</code> element in the Media Overlay, only those relevant to the audio narration.</p><div class="informalexample"><p>The following example shows a basic Media Overlay Document containing a sequence of phrases. The <code class="literal">body</code> element acts as the main sequence for the whole document.</p><pre class="synopsis">&lt;smil xmlns="http://www.w3.org/ns/SMIL" 
      version="3.0"&gt;
    &lt;body&gt;
        &lt;par id="par1"&gt;
            &lt;text src="chapter1.xhtml#sentence1"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0s" clipEnd="10s"/&gt;
        &lt;/par&gt;
        &lt;par id="par2"&gt;
            &lt;text src="chapter1.xhtml#sentence2"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="10s" clipEnd="20s"/&gt;
        &lt;/par&gt;
        &lt;par id="par3"&gt;
            &lt;text src="chapter1.xhtml#sentence3"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="20s" clipEnd="30s"/&gt;
        &lt;/par&gt;
    &lt;/body&gt;
&lt;/smil&gt;</pre></div><p><code class="literal">par</code> elements can also be added to <code class="literal">seq</code> elements to define more complex structures such as parts and chapters (see <a class="xref" href="#sec-media-overlays-structure" title="3.2.1 Structure">Structure </a>). </p></section><section class="section" title="3.2 Relationship to the EPUB Content Document" id="sec-docs-relations"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-docs-relations">›</a> </span>3.2 Relationship to the EPUB Content Document</h3><div class="note" title="note"><h3 class="title">note</h3><p>In this section, the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> is assumed to be an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>. While Media Overlays can be used with <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s, playback behavior might not be consistent and therefore interoperability is not guaranteed.</p></div><section class="section" title="3.2.1 Structure" id="sec-media-overlays-structure"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-media-overlays-structure">›</a> </span>3.2.1 Structure </h4><p>The ordering of the Media Overlay elements must match the default reading order of the EPUB Content Document. The <code><a href="#elemdef-smil-par">par</a></code> element represents phrases, and the <code><a href="#elemdef-smil-seq">seq</a></code> element (sequence) represents nested EPUB Content Document containers such as sections, asides, headers, and footnotes. <code class="literal">seq</code> children must be other <code class="literal">seq</code> or <code class="literal">par</code> elements. Each <code class="literal">seq</code> element must contain an <code><a href="#attrdef-body-textref">epub:textref</a></code> attribute which references the corresponding EPUB Content Document element by IRI reference. </p><div class="informalexample" id="example-mo-nesting"><p>The following example shows a Media Overlay Document with nested <code class="literal">seq</code> elements, representing a chapter with both a section header and a sidebar, which itself has a nested figure. </p><pre class="synopsis">&lt;smil xmlns="http://www.w3.org/ns/SMIL" 
      xmlns:epub="http://www.idpf.org/2007/ops"
      version="3.0"&gt;
    &lt;body&gt;

        &lt;!-- a chapter --&gt;
        &lt;seq id="id1" epub:textref="chapter1.xhtml#sectionstart" epub:type="chapter"&gt;

            &lt;!-- the section title --&gt;
            &lt;par id="id2"&gt;
                &lt;text src="chapter1.xhtml#section1_title"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:23:23.84" clipEnd="0:23:34.221"/&gt;
            &lt;/par&gt;

            &lt;!-- some sentences in the chapter --&gt;
            &lt;par id="id3"&gt;
                &lt;text src="chapter1.xhtml#text1"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:23:34.221" clipEnd="0:23:59.003"/&gt;
            &lt;/par&gt;
            &lt;par id="id4"&gt;
                &lt;text src="chapter1.xhtml#text2"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:23:59.003" clipEnd="0:24:15.000"/&gt;
            &lt;/par&gt;

            &lt;!-- an informational sidebar --&gt;
            &lt;seq id="id5" epub:textref="chapter1.xhtml#sidebar" epub:type="sidebar"&gt;
                &lt;par id="id6"&gt;
                    &lt;text src="chapter1.xhtml#sidebartitle"/&gt;
                    &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:15.000" clipEnd="0:24:18.123"/&gt;
                &lt;/par&gt;

                &lt;!-- a figure within the sidebar --&gt;
                &lt;seq id="id7" epub:textref="chapter1.xhtml#figure"&gt;
                    &lt;par id="id8"&gt;
                        &lt;text src="chapter1.xhtml#photo"/&gt;
                        &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:18.123" clipEnd="0:24:28.764"/&gt;
                    &lt;/par&gt;
                    &lt;par id="id9"&gt;
                        &lt;text src="chapter1.xhtml#caption"/&gt;
                        &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:28.764" clipEnd="0:24:50.010"/&gt;
                    &lt;/par&gt;
                &lt;/seq&gt;

                &lt;!-- some sentences in the sidebar --&gt;
                &lt;par id="id10"&gt;
                    &lt;text src="chapter1.xhtml#sidebartext1"/&gt;
                    &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:50.010" clipEnd="0:25:28.530"/&gt;
                &lt;/par&gt;
                &lt;par id="id11"&gt;
                    &lt;text src="chapter1.xhtml#sidebartext2"/&gt;
                    &lt;audio src="chapter1_audio.mp3" clipBegin="0:25:28.530" clipEnd="0:25:45.515"/&gt;
                &lt;/par&gt;
            &lt;/seq&gt;

            &lt;!-- more sentences in the chapter (outside the sidebar) --&gt;
            &lt;par id="id12"&gt;
                &lt;text src="chapter1.xhtml#text3"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:25:45.515" clipEnd="0:26:30.203"/&gt;
            &lt;/par&gt;
            &lt;par id="id13"&gt;
                &lt;text src="chapter1.xhtml#text4"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:26:30.203" clipEnd="0:27:15.000"/&gt;
            &lt;/par&gt;

        &lt;/seq&gt;
    &lt;/body&gt;
&lt;/smil&gt;</pre></div><p>The reason for grouping structures like sidebars, section headers, figures, tables, and footnotes in a <code class="literal">seq</code> element is so that their start and end positions can be identified during playback. Reading Systems can then offer playback options tailored to the layout of the Publication, such as jumping past a long sidebar, turning off rendering of page break announcements (see <a class="xref" href="#sec-behaviors-skip-escape" title="4.4 Skippability and Escapability">Skippability and Escapability</a>), or customizing the reading mode to suit structures such as tables.</p><div class="informalexample"><p>The following example shows the EPUB Content Document that corresponds to the <a href="#example-mo-nesting">previous Media Overlay example</a>. </p><pre class="synopsis">&lt;html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:epub="http://www.idpf.org/2007/ops" 
      xml:lang="en" 
      lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Media Overlays Example of EPUB Content Document&lt;/title&gt;
    &lt;/head&gt;
    &lt;body id="sec1"&gt;
        &lt;section id="sectionstart" epub:type="chapter"&gt;
            &lt;h1 id="section1_title"&gt;The Section Title&lt;/h1&gt;
            &lt;p id="text1"&gt;The first phrase of the main text body.&lt;/p&gt;
            &lt;p id="text2"&gt;The second phrase of the main text body.&lt;/p&gt;
            &lt;aside id="sidebar" epub:type="sidebar"&gt;
                &lt;h2 id="sidebartitle"&gt;The Sidebar Title&lt;/h2&gt;
                &lt;figure id="figure"&gt;
                    &lt;img id="photo" 
                         src="photo.png" 
                         alt="a photograph for which there is a caption" /&gt;
                    &lt;figcaption id="caption"&gt;The photo caption&lt;/figcaption&gt;
                &lt;/figure&gt;
                &lt;p id="sidebartext1"&gt;A phrase in the sidebar.&lt;/p&gt;
                &lt;p id="sidebartext2"&gt;Another phrase in the sidebar&lt;/p&gt;
            &lt;/aside&gt;
            &lt;p id="text3"&gt;The third phrase of the main text body.&lt;/p&gt;
            &lt;p id="text4"&gt;The fourth phrase of the main text body.&lt;/p&gt;
        &lt;/section&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre></div></section><section class="section" title="3.2.2 Granularity" id="sec-media-overlays-granularity"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-media-overlays-granularity">›</a> </span>3.2.2 Granularity</h4><p class="informative"> This section is informative</p><p>Media Overlay <code><a href="#elemdef-smil-text">text</a></code> elements' <code class="literal">src</code> attributes refer to <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> elements by their IDs <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a>. The granularity level of the Media Overlay therefore depends on how the EPUB Content Document is marked up. If the finest level of markup is at the paragraph level, then that is the finest possible level at which Media Overlay synchronization can be authored. Likewise, if sub-paragraph markup is available, such as <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-span-element">span</a></code> elements representing phrases or sentences, then finer granularity is possible in the Media Overlay. Finer granularity gives <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a>s more precise results for synchronized playback when navigating by word or phrase and when searching the text, but increases the file size of the Media Overlay Documents.</p></section><section class="section" title="3.2.3 Embedded Audio and Video" id="sec-audio-video"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-audio-video">›</a> </span>3.2.3 Embedded Audio and Video</h4><p>Any <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> associated with a Media Overlay may contain embedded media such as video, audio, and images. The Media Overlay <code><a href="#elemdef-smil-text">text</a></code> element may be used in such instances to reference the embedded media by its ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> value. </p><p>When a <code class="literal">text</code> element references embedded media that contains audio, no <code><a href="#elemdef-smil-audio">audio</a></code> sibling element is required, though one is allowed. </p><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s should avoid using scripts to control playback of referenced embedded EPUB Content Document media, as this may conflict with Media Overlays playback behavior.</p></section><section class="section" title="3.2.4 Text-to-Speech" id="sec-tts"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-tts">›</a> </span>3.2.4 Text-to-Speech</h4><p> This specification allows the use of <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> in addition to pre-recorded audio clips. When a Media Overlay <code><a href="#elemdef-smil-text">text</a></code> element with no <code><a href="#elemdef-smil-audio">audio</a></code> sibling element references an element within the target <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>, the contents of that referenced element must be appropriate for rendering via TTS. For example, it could be a textual EPUB Content Document element or contain a text fallback. </p></section></section><section class="section" title="3.3 Semantic Inflection" id="sec-docs-semantic-inflection"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-docs-semantic-inflection">›</a> </span>3.3 Semantic Inflection</h3><p>In order to express semantic inflections, the <span class="phrase"><a href="epub30-contentdocs.xhtml#attrdef-epub-type">epub:type attribute</a> <a class="biblioref" href="epub30-references.xhtml#refContentDocs3" title="EPUB Content Documents 3.0">[<abbr>ContentDocs30</abbr>]</a></span> may be attached to Media Overlay <code><a href="#elemdef-smil-par">par</a></code>, <code><a href="#elemdef-smil-seq">seq</a></code>, and <code><a href="#elemdef-smil-body">body</a></code> elements.</p><p>Values for the Media Overlay <code>epub:type</code> attribute are constrained identically to the <code>epub:type</code> attribute in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. Refer to <span class="phrase"><a href="epub30-contentdocs.xhtml#sec-xhtml-semantic-inflection">Semantic Inflection</a> <a class="biblioref" href="epub30-references.xhtml#refContentDocs3" title="EPUB Content Documents 3.0">[<abbr>ContentDocs30</abbr>]</a></span> for details. </p><p> The <code>epub:type</code> attribute facilitates Reading System behavior appropriate for the semantic type(s) indicated. Examples of these behaviors are <a class="xref" href="#sec-behaviors-skip-escape" title="4.4 Skippability and Escapability">Skippability and Escapability</a> and <a class="xref" href="#note-table-reading-mode" title="note">Table Reading Mode</a>. </p><div class="informalexample"><p>The following example shows the semantic markup for a Media Overlay containing a sidebar.</p><pre class="synopsis">&lt;smil xmlns="http://www.w3.org/ns/SMIL" 
      xmlns:epub="http://www.idpf.org/2007/ops"
      version="3.0"&gt;
    &lt;body&gt;
        &lt;seq id="id1" epub:textref="chapter1.xhtml#sidebar" epub:type="sidebar"&gt;
            &lt;par id="id2"&gt;
                &lt;text src="chapter1.xhtml#sidebartitle"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:15.000" clipEnd="0:24:18.123"/&gt;
            &lt;/par&gt;
            &lt;par id="id3"&gt;
                &lt;text src="chapter1.xhtml#sidebartext1"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:18.123" clipEnd="0:24:38.530"/&gt;
            &lt;/par&gt;
            &lt;par id="id4"&gt;
                &lt;text src="chapter1.xhtml#sidebartext2"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:38.530" clipEnd="0:25:00.515"/&gt;
            &lt;/par&gt;
        &lt;/seq&gt;
    &lt;/body&gt;
&lt;/smil&gt;</pre></div><p>This specification adopts the vocabulary association mechanisms defined in <span class="phrase"><a href="epub30-contentdocs.xhtml#sec-contentdocs-vocab-association">Vocabulary Association</a> <a class="biblioref" href="epub30-references.xhtml#refContentDocs3" title="EPUB Content Documents 3.0">[<abbr>ContentDocs30</abbr>]</a></span> unmodified. Terms from the <span class="phrase"><a href="epub30-contentdocs.xhtml#sec-contentdocs-default-vocab">default vocabulary</a> <a class="biblioref" href="epub30-references.xhtml#refContentDocs3" title="EPUB Content Documents 3.0">[<abbr>ContentDocs30</abbr>]</a></span> must be used unprefixed in Overlay Documents.</p></section><section class="section" title="3.4 Associating Style Information" id="sec-docs-assoc-style"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-docs-assoc-style">›</a> </span>3.4 Associating Style Information</h3><p>Visual rendering information for the currently-playing <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> element may be expressed in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-stylesheet" title="EPUB Style Sheet (or Style Sheet)">EPUB Style Sheet</a> using an author-defined class. This author-defined class name should be declared in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> metadata, using the metadata property <code class="literal"><a class="xref" href="#active-class">active-class</a></code>. The class name is then discoverable by Reading Systems. </p><p>This example demonstrates how authors may associate style information with the currently-playing EPUB Content Document element. </p><div class="note" title="note"><h3 class="title">note</h3><p>Although this example uses the class name <code class="literal">-epub-media-overlay-active</code>, any class name is permitted.</p></div><div class="informalexample"><p>The author-defined CSS class name, declared using the metadata property <a class="xref" href="#active-class">active-class</a> in the Package Document:</p><pre class="synopsis">&lt;meta property="media:active-class"&gt;-epub-media-overlay-active&lt;/meta&gt;</pre><p>The EPUB Style Sheet containing the author-defined class name:</p><pre class="synopsis">.-epub-media-overlay-active
{
    background-color: yellow;
}</pre><p>The relevant EPUB Content Document excerpt:</p><pre class="synopsis">&lt;span id="txt1"&gt;This is the first phrase.&lt;/span&gt;
&lt;span id="txt2"&gt;This is the second phrase.&lt;/span&gt;
&lt;span id="txt3"&gt;This is the third phrase.&lt;/span&gt;</pre></div><p>In this example, the Reading System would apply the author-defined <code class="literal">-epub-media-overlay-active</code> class to each text element in the EPUB Content Document as it became active during playback. Conversely, the class name is removed when the element is no longer active. The User would see each EPUB Content Document element styled with a yellow background for the duration of that element's playback. </p></section><section class="section" title="3.5 Packaging" id="sec-docs-package"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-docs-package">›</a> </span>3.5 Packaging</h3><section class="section" title="3.5.1 Including Media Overlays" id="sec-package-including"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-package-including">›</a> </span>3.5.1 Including Media Overlays</h4><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">Manifest</a> <span class="phrase"><a href="epub30-publications.xhtml#elemdef-package-item">item elements</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> may specify a Media Overlay via the <code><span class="phrase"><a href="epub30-publications.xhtml#attrdef-item-media-overlay">media-overlay</a></span></code> attribute. Media Overlays are themselves manifest items and must be referred to by their IDs <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a>. </p><div class="informalexample"><p>The following example shows how to include Media Overlays in the manifest of a Package Document.</p><pre class="synopsis">&lt;manifest&gt;
    &lt;item id="ch1" 
          href="chapter1.xhtml" 
          media-type="application/xhtml+xml" 
          media-overlay="ch1_audio"/&gt;
    &lt;item id="ch1_audio" 
          href="chapter1_audio.smil" 
          media-type="application/smil+xml"/&gt;
&lt;/manifest&gt;</pre></div><p>Manifest items which refer to Media Overlays must have the media-type <code class="literal">application/smil+xml</code> as specified in <span class="phrase"><a href="epub30-publications.xhtml#sec-core-media-types">Core Media Types</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>.</p><p>The <code class="literal">media-overlay</code> attribute must be attached to manifest <code>item</code>s that reference <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>s only.</p><p>A single Media Overlay file may refer to more than one EPUB Content Document, but an EPUB Content Document must not be referenced by more than one Media Overlay file. </p><p>Not every EPUB Content Document manifest <code>item</code> is required to have a Media Overlay associated with it. If an EPUB Content Document is wholly or partially referenced by a Media Overlay, then its manifest <code>item</code> entry must indicate this via the <code class="literal">media-overlay</code> attribute.</p><p>This is a forwards-compatible addition: 2.0 Reading Systems may safely ignore the <code class="literal">media-overlay</code> attribute and process documents in their normal fashion.</p></section><section class="section" title="3.5.2 Media Overlays Metadata Vocabulary" id="sec-package-metadata"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-package-metadata">›</a> </span>3.5.2 Media Overlays Metadata Vocabulary</h4><p> The following tables both define a set of properties for use in <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> metadata and constitute a referenceable vocabulary. </p><p>The base IRI for referencing this vocabulary is <code class="uri">http://www.idpf.org/epub/vocab/overlays/#</code>.</p><div class="note" title="note"><h3 class="title">note</h3><p>The prefix <span class="phrase"><a href="epub30-publications.xhtml#sec-metadata-reserved-vocabs">media:</a></span> is reserved by <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a> for the inclusion of these properties in package metadata.</p></div><div id="overlays" class="informaltable"><table><colgroup><col class="c1"/><col class="c2"/></colgroup><tbody><tr><td class="rdfa-property" colspan="2"><code class="literal"><span class="link-marker" title="Link here">›</span> <span id="active-class">active-class</span></code></td></tr><tr><td class="rdfa-property-header">Description:</td><td class="rdfa-property-desc">Author-defined CSS class name to apply to the currently-playing EPUB Content Document element.</td></tr><tr><td class="rdfa-property-header">Allowed value(s):</td><td class="entry"> <code class="literal">xsd:string</code> </td></tr><tr><td class="rdfa-property-header">Cardinality:</td><td class="entry"> <code class="literal">zero or one</code> </td></tr><tr><td class="rdfa-property-header">Example:</td><td class="entry"> <code>&lt;meta property="media:active-class"&gt;-epub-media-overlay-active&lt;/meta&gt;</code> </td></tr></tbody></table><table><colgroup><col class="c1"/><col class="c2"/></colgroup><tbody><tr><td class="rdfa-property" colspan="2"><code class="literal"><span class="link-marker" title="Link here">›</span> <span id="duration">duration</span></code></td></tr><tr><td class="rdfa-property-header">Description:</td><td class="rdfa-property-desc">The duration of the entire presentation or of a specific Media Overlay. The specified durations account for the audio clips known at authoring time, and so exclude live streaming from external resources and speech synthesis.</td></tr><tr><td class="rdfa-property-header">Allowed value(s):</td><td class="entry"><p>A clock value.</p><p> Clock values are a subset of <a href="http://www.w3.org/TR/SMIL/smil-timing.html#q22">SMIL clock values</a>, defined in <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a>. See <a class="xref" href="#app-clock-examples" title="Appendix B. Examples of Clock Values">Appendix B, <em>Examples of Clock Values</em></a>. </p> </td></tr><tr><td class="rdfa-property-header">Cardinality:</td><td class="entry">Exactly one for the Publication and for each Media Overlay.</td></tr><tr><td class="rdfa-property-header">Example:</td><td class="entry"> <code>&lt;meta property="media:duration"&gt;1:36:20&lt;/meta&gt;</code> </td></tr></tbody></table><table><colgroup><col class="c1"/><col class="c2"/></colgroup><tbody><tr><td class="rdfa-property" colspan="2"><code class="literal"><span class="link-marker" title="Link here">›</span> <span id="narrator">narrator</span></code></td></tr><tr><td class="rdfa-property-header">Description:</td><td class="rdfa-property-desc">Name of the narrator.</td></tr><tr><td class="rdfa-property-header">Allowed value(s):</td><td class="entry"> <code class="literal">xsd:string</code> </td></tr><tr><td class="rdfa-property-header">Cardinality:</td><td class="entry"> <code class="literal">zero or more</code> </td></tr><tr><td class="rdfa-property-header">Example:</td><td class="entry"> <code>&lt;meta property="media:narrator"&gt;Joe Speaker&lt;/meta&gt;</code> </td></tr></tbody></table></div><p>The Package Document must include the <code class="literal">duration</code> of each Media Overlay as well as of the entire Publication. The Package Document may include <code class="literal">narrator</code> information, as well, in particular when each Media Overlay has its own narrator or there is one narrator specified for the entire Publication. The Package Document may also include an author-defined CSS class name to be applied to the currently-playing EPUB Content Document element.</p><p>When a <code class="literal">meta</code> element is specific to a single Media Overlay Document, the <code class="literal">about</code> attribute is used to reference which one. A <code class="literal">meta</code> element without an <code class="literal">about</code> attribute is considered to be about the entire Publication. The <code class="literal">active-class</code> property must not be used in conjunction with an <code class="literal">about</code> attribute, as it is always considered to apply to the entire Publication.</p><div class="informalexample"><p>The following example shows a Package Document with metadata about Media Overlays.</p><pre class="synopsis">&lt;package&gt;
    &lt;metadata&gt;
        …        
        &lt;meta property="media:duration" refines="#ch1_audio"&gt;0:32:29&lt;/meta&gt;
        &lt;meta property="media:duration" refines="#ch2_audio"&gt;0:34:02&lt;/meta&gt;
        &lt;meta property="media:duration" refines="#ch3_audio"&gt;0:29:49&lt;/meta&gt;
        &lt;meta property="media:duration"&gt;1:36:20&lt;/meta&gt;
        &lt;meta property="media:narrator"&gt;Joe Speaker&lt;/meta&gt;
        &lt;meta property="media:active-class"&gt;-epub-media-overlay-active&lt;/meta&gt;
        …
    &lt;/metadata&gt; 
    …
&lt;/package&gt;</pre></div></section></section></section><section class="chapter" title="4 Playback Behaviors" id="sec-overlay-behaviors"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overlay-behaviors">›</a> </span>4 Playback Behaviors</h2><section class="section" title="4.1 Loading the Media Overlay" id="sec-behaviors-loading"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-behaviors-loading">›</a> </span>4.1 Loading the Media Overlay</h3><p>When an <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> loads a <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a>, it must refer to the <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code><span class="phrase"><a href="epub30-publications.xhtml#elemdef-package-item">item</a></span></code> elements' <code class="literal">media-overlay</code> attributes to discover the corresponding Media Overlays for <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>s. Playback must start at the Media Overlay element which corresponds to the desired EPUB Content Document starting point. Note that the start of an EPUB Content Document may correspond to an element at the start or in the middle of a Media Overlay. When the Media Overlay Document has finished playing, the Reading System should load the next EPUB Content Document (as specified in the Package Document <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>) and also load its corresponding Media Overlay Document, provided that one is given. </p></section><section class="section" title="4.2 Basic Playback" id="sec-behaviors-playback"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-behaviors-playback">›</a> </span>4.2 Basic Playback</h3><section class="section" title="4.2.1 Timing and Synchronization" id="sec-rsconf-timing-synch"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-rsconf-timing-synch">›</a> </span>4.2.1 Timing and Synchronization</h4><p>Reading Systems must render immediate children of the <code><a href="#elemdef-smil-body">body</a></code> element in a sequence. A <code><a href="#elemdef-smil-seq">seq</a></code> element's children must be rendered in sequence, and playback completes when the last child has finished playing. A <code class="literal"><a class="literal" href="#elemdef-smil-par">par</a></code> element's children must be rendered in parallel (with each starting at the same time), and playback completes when all the children have finished playing. When the <code class="literal">body</code> element's last child has finished playing, playback of the Media Overlay Document is done.</p></section><section class="section" title="4.2.2 Rendering Audio" id="sec-rsconf-rendering-audio"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-rsconf-rendering-audio">›</a> </span>4.2.2 Rendering Audio</h4><p>When presented with a Media Overlay <code><a href="#elemdef-smil-audio">audio</a></code> element, Reading Systems must play the audio resource referenced by the <code class="literal">src</code> attribute, starting at the clip offset time given by the <code><a href="#attrdef-smil-clipBegin">clipBegin</a></code> attribute and ending at the clip offset time given by the <code><a href="#attrdef-smil-clipEnd">clipEnd</a></code> attribute. The following rules must be observed:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>If <code class="literal">clipBegin</code> is not specified, its value is assumed to be <code class="literal">0</code>.</p></li><li class="listitem"><p>If <code class="literal">clipEnd</code> is not specified, its value is assumed to be the full duration of the physical media. </p></li><li class="listitem"><p>If <code class="literal">clipEnd</code> exceeds the full duration of the physical media, then its value is assumed to be the full duration of the physical media.</p></li></ul></div><p>User-controllable audio playback options should include timescale modification, in which the playback rate is altered without distorting the pitch. The suggested range is half-speed to double-speed.</p></section><section class="section" title="4.2.3 Rendering EPUB Content Document Elements" id="sec-rsconf-rendering-text"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-rsconf-rendering-text">›</a> </span>4.2.3 Rendering EPUB Content Document Elements</h4><p>When presented with a Media Overlay <code><a href="#elemdef-smil-text">text</a></code> element, Reading Systems should ensure the EPUB Content Document element referenced by the <code>src</code> attribute is visible in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport" title="Viewport">Viewport</a>. Reading Systems with a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a> should add the class name given by the metadata property <code class="literal"><a class="xref" href="#active-class">active-class</a></code> to the actively-playing EPUB Content Document element. Conversely, the class name should be removed when the element is no longer active.</p><p>The <code class="literal">active-class</code> metadata property is optional, and if omitted, Reading System behavior is implementation-specific.</p></section></section><section class="section" title="4.3 Interacting with the EPUB Content Document" id="sec-behaviors-interaction"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-behaviors-interaction">›</a> </span>4.3 Interacting with the EPUB Content Document</h3><section class="section" title="4.3.1 Navigation" id="sec-rsconf-navigation"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-rsconf-navigation">›</a> </span>4.3.1 Navigation</h4><p>Because the Media Overlay is closely linked to the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>, it is very easy for Reading Systems to locate a position in the EPUB Content Document based on the current position in the Media Overlay playback. If the <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a> pauses synchronized playback and navigates to a different part of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">Publication</a>, synchronized playback must resume at that point. For example, if a specific page number in the EPUB Content Document is the desired location, then this same point is located in the Media Overlay and playback started there. </p><p>This same approach allows for synchronizing the Media Overlay playback with User selection of a navigation points in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-nav" title="EPUB Navigation Document">EPUB Navigation Document</a>. The Reading System loads the Media Overlay for that file and finds the correct point for starting playback based on the ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of the navigation point target.</p><div class="note" title="note"><h3 class="title">note</h3><p>A Media Overlay Document may also be associated directly with a Navigation Document in order to provide synchronized playback of its contents, regardless of whether the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> in which it resides is included in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>. The Reading System should keep playback of the Navigation Document's Media Overlay synchronized with the User's current position in the EPUB Content Document. </p></div><div class="note" title="note" id="note-table-reading-mode"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#note-table-reading-mode">›</a> </span>note</h3><p>Media Overlay Document elements may be associated with EPUB Content Document structures such as tables. Reading Systems should ensure that Media Overlay playback remains synchronized with User navigation of table rows and cells. The Reading System may also play the corresponding table header preceding the contents of the cell.</p></div></section><section class="section" title="4.3.2 Embedded Audio and Video" id="sec-embedded-media"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-embedded-media">›</a> </span>4.3.2 Embedded Audio and Video</h4><p> An <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> with which a Media Overlay is associated may itself contain embedded video and audio media, which may be pointed to by Media Overlay elements. Unlike text and images, video and audio media has an intrinsic duration. Consequently, when a Reading System renders the synchronization described by a Media Overlay, the default playback behavior of audio and video media embedded within the associated EPUB Content Document must be overridden.</p><p>Note that the rules below apply only to <span class="italic">referenced</span> <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#video">video</a></code> or <code><a href="http://www.w3.org/TR/html5/Overview.html#audio">audio</a></code> elements within the associated EPUB Content Document. That is to say, the rules apply to only those elements pointed to by <code><a href="#elemdef-smil-text">text</a></code> elements within the Media Overlay (i.e., via the <code class="literal">src</code> attribute). Embedded media that is not referenced by Media Overlay elements is not subject to these rules.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>All referenced audio and video media embedded within an EPUB Content Document must have their public playback interface deactivated (typically: play/pause control, time slider, volume level, etc.). This behavior is required to avoid interference between the scheduled playback sequence defined by the Media Overlay, and the arbitrary playback behavior due to <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a> interaction or script execution. As a result, when the Reading System is in playback mode, it should: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Hide the individual video/audio UI controls from the page, which overrides the default behavior defined by the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#attr-media-controls">controls</a></code> attribute. </p></li><li class="listitem"><p>Prevent scripts embedded within the EPUB Content Document from invoking the JavaScript audio/video playback API (i.e., authored as part of the default Publication behavior). It is recommended that content producers should avoid publishing embedded scripts dedicated to controlling the playback of embedded audio/video media. The published Media Overlay can then retain full control of the synchronized presentation without any risk of interference from script-enabled custom behaviors. </p></li></ul></div></li><li class="listitem"><p>All referenced audio and video media embedded within an EPUB Content Document must be initialized to their "stopped" state, and be ready to be played from the zero-position within their content stream (possibly displaying the image specified using the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#attr-video-poster">poster</a></code> attribute). This requirement overrides the default behavior defined by the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#attr-media-autoplay">autoplay</a></code> attribute. </p></li><li class="listitem"><p>When an EPUB Content Document element becomes active, the <a class="glossterm" href="epub30-terminology.xhtml#gloss-stylesheet" title="EPUB Style Sheet (or Style Sheet)">EPUB Style Sheet</a> visual highlighting rules apply regardless of the content type referred to by that element's <code>src</code> attribute (e.g., the CSS class name defined by the <a class="xref" href="#active-class">active-class</a> metadata property should be applied to visible video and audio player controls within the host EPUB Content Document). </p></li><li class="listitem"><p>In addition to the default behavior of Media Overlay activation for textual fragments and images, audio and video playback must be started and stopped according to the duration implied by the authored Media Overlay synchronization (as per the standard <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a> timing model). There are two possible scenarios: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>When a Media Overlay <code class="literal">text</code> element has no <code><a href="#elemdef-smil-audio">audio</a></code> sibling within its <code class="literal"><a href="#elemdef-smil-par">par</a></code> parent container, the referenced EPUB Content Document audio or video media must play until it ends, at which point the <code class="literal">text</code> element's lifespan terminates. In this case, the implicit duration of the <code class="literal">text</code> element (and by inference, of the parent <code class="literal">par</code> container) is that of the referenced audio or video clip.</p></li><li class="listitem"><p>When a Media Overlay <code class="literal">text</code> element has an <code class="literal">audio</code> sibling within its <code class="literal">par</code> parent container, the playback duration of the referenced EPUB Content Document audio or video media must be constrained by the duration of the <code class="literal">audio</code> sibling. In this case, the actual duration of the parent <code class="literal">par</code> container is that of the child audio clip, regardless of the duration of the video or audio media pointed to by the <code class="literal">text</code> element. This behavior may result in embedded video or audio media ending playback prematurely (before reaching its full duration), or ending before the playback of the parallel Media Overlay <code class="literal">audio</code> is finished (in which case the last-played video frame should remain visible until the parent <code class="literal">par</code> container finally ends). This behavior is equivalent of the Media Overlay <code class="literal">audio</code> element implicitly carrying the behavior of the <a class="biblioref" href="epub30-references.xhtml#refSMIL" title="SMIL Version 3.0">[<abbr>SMIL</abbr>]</a> <a href="http://www.w3.org/TR/SMIL/smil-timing.html#adef-endsync"><code class="literal">endsync</code></a> attribute.</p><p>Furthermore, Reading Systems should expose User controls for the volume levels of each independent audio track (i.e., from the <code class="literal">audio</code> element of the Media Overlay, and from the embedded audio or video media within the EPUB Content Document), so that audio output can be adjusted to match listeners' requirements. Note that having overlapping audio tracks is typically an authoring-time concern: content producers usually add a layer of audio information over a video track for description purposes. It is recommended that overlapping audio situations are carefully examined and dealt with at production stage, as Reading Systems are not required to handle simultaneous volume levels in any particular way.</p></li></ul></div></li><li class="listitem"><p>When a <code class="literal">text</code> element becomes inactive in the Media Overlay, and when it points to embedded video or audio media, that referenced media must be reset to its initial "stopped" state, ready to be played from the zero-position within their content stream (possibly displaying the poster image specified using the HTML5 markup). </p></li></ul></div></section><section class="section" title="4.3.3 Text-to-Speech" id="sec-text-to-speech"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-text-to-speech">›</a> </span>4.3.3 Text-to-Speech</h4><p>When a Media Overlay <code><a href="#elemdef-smil-text">text</a></code> element with no <code><a href="#elemdef-smil-audio">audio</a></code> sibling element references text within the target <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>, Reading Systems capable of <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> should render the referenced text using TTS.</p><p>As per Reading System conformance requirements, the speech-related information provided in the target EPUB Content Document should be used to play the audio stream as part of the Media Overlay rendering. See <span class="phrase"><a href="epub30-publications.xhtml#confreq-rs-epub3-tts">Reading System Text-to-Speech Conformance Requirements</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>.</p><p>The Media Overlay <code class="literal">text</code> element's lifespan corresponds to the rendering time of the associated speech synthesis. The implicit duration of the <code class="literal">text</code> element (and by inference, of the parent <code class="literal">par</code> element) is therefore determined by the execution of the Text-to-Speech engine, and cannot be known at authoring time (factors like speech rate, pauses and other prosody parameters influence the audio output).</p></section></section><section class="section" title="4.4 Skippability and Escapability" id="sec-behaviors-skip-escape"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-behaviors-skip-escape">›</a> </span>4.4 Skippability and Escapability</h3><section class="section" title="4.4.1 Skippability" id="sec-skippability"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-skippability">›</a> </span>4.4.1 Skippability</h4><p>While reading, <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a>s may want to turn on or off certain features of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">Publication</a>, such as sidebars, footnotes, page numbers, or other types of secondary content. This feature is called skippability. Reading Systems should use the semantic information provided by Media Overlay elements' <code><a href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">epub:type</a></code> attribute to determine when to offer Users the option of skippable features. In the following example, a Reading System should offer the User the option of turning on and off the page break/page number announcements, which are often cumbersome to listen to.</p><div class="informalexample"><p>The following example shows a Media Overlay Document with a pagebreak.</p><pre class="synopsis">&lt;smil xmlns="http://www.w3.org/ns/SMIL" 
      xmlns:epub="http://www.idpf.org/2007/ops"
      version="3.0"&gt;
    &lt;body&gt;
        &lt;!-- a paragraph --&gt;
        &lt;par id="id1"&gt;
            &lt;text src="chapter1.xhtml#para1"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0:23:22.000" clipEnd="0:24:15.000"/&gt;
        &lt;/par&gt;

        &lt;!-- a page number --&gt;
        &lt;par id="id2" epub:type="pagebreak"&gt;
            &lt;text src="chapter1.xhtml#pgbreak1"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:15.000" clipEnd="0:24:18.123"/&gt;
        &lt;/par&gt;

        &lt;!-- another paragraph --&gt;
        &lt;par id="id3"&gt;
            &lt;text src="chapter1.xhtml#para2"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:18.123" clipEnd="0:25:28.530"/&gt;
        &lt;/par&gt;
    &lt;/body&gt;
&lt;/smil&gt;
</pre></div><div class="informalexample"><p>The following example shows an EPUB Content Document with a pagebreak.</p><pre class="synopsis">&lt;html … &gt;
    …
    &lt;body&gt;
        &lt;p id="para1"&gt;This is the paragraph before the pagebreak … &lt;/p&gt;
        
        &lt;br id="pgbreak1" epub:type="pagebreak" title="234"/&gt;
        
        &lt;p id="para2"&gt;This is the paragraph after the pagebreak …&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre></div><p>The following selection of terms from the <a class="biblioref" href="epub30-references.xhtml#refEPUBStructureVocab" title="EPUB 3 Structural Semantics Vocabulary">[<abbr>StructureVocab</abbr>]</a> for which Reading Systems should offer Users the option of skippability is provided as an informative reference: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>sidebar</p></li><li class="listitem"><p>practice</p></li><li class="listitem"><p>marginalia</p></li><li class="listitem"><p>annotation</p></li><li class="listitem"><p>help</p></li><li class="listitem"><p>note</p></li><li class="listitem"><p>footnote</p></li><li class="listitem"><p>rearnote</p></li><li class="listitem"><p>pagebreak</p></li></ul></div><p> </p><p>Media Overlays may use additional vocabularies by defining them in the <code><a href="#attrdef-smil-prefix">epub:prefix</a></code> attribute on the root <code>smil</code> element. Reading System support for skippability based on <code>epub:type</code> values should not be assumed.</p></section><section class="section" title="4.4.2 Escapability" id="sec-escabaility"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-escabaility">›</a> </span>4.4.2 Escapability</h4><p>Escapable items are nested structures such as tables, lists, and sidebars that listeners may wish to skip over, continuing to read from the point immediately after the nested structure. The escapability feature differs from the skippability feature in that it does not enable or disable entire types of items, but provides an exit from them (e.g., a User can listen to some of the content before choosing to escape). Reading Systems should allow escaping of nested structures. Reading Systems must determine the start of nested structures by the value of the <code><a href="#sec-docs-semantic-inflection" title="3.3 Semantic Inflection">epub:type</a></code> attribute (e.g., <code class="literal">glossary</code>) and should offer Users the option to skip playback of that structure and resume with whatever content comes after it. </p><div class="informalexample"><p>The following example shows the Media Overlay Document for an EPUB Content Document containing a paragraph, a glossary, and another paragraph. A Reading System that supported escapability would give the User the option to interrupt playback of the glossary and continue playing the document paragraphs.</p><pre class="synopsis">&lt;smil xmlns="http://www.w3.org/ns/SMIL" 
      xmlns:epub="http://www.idpf.org/2007/ops"
      version="3.0"&gt;
    &lt;body&gt;
        &lt;!-- a paragraph, part of the regular document text --&gt;
        &lt;par id="id1"&gt;
            &lt;text src="chapter1.xhtml#para1"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0:23:22.000" clipEnd="0:24:15.000"/&gt;
        &lt;/par&gt;

        &lt;!-- a glossary, which is a nested structure --&gt;
        &lt;seq id="id2" epub:textref="chapter1.xhtml#g0" epub:type="glossary"&gt;
            &lt;par id="id3" epub:type="glossterm"&gt;
                &lt;text src="chapter1.xhtml#g1"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:15.000" clipEnd="0:24:18.123"/&gt;
            &lt;/par&gt;
            &lt;par id="id4" epub:type="glossdef"&gt;
                &lt;text src="chapter1.xhtml#g2"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:24:18.123" clipEnd="0:25:28.530"/&gt;
            &lt;/par&gt;
            &lt;par id="id5" epub:type="glossterm"&gt;
                &lt;text src="chapter1.xhtml#g3"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:25:28.530" clipEnd="0:25:45.515"/&gt;
            &lt;/par&gt;
            &lt;par id="id6" epub:type="glossdef"&gt;
                &lt;text src="chapter1.xhtml#g4"/&gt;
                &lt;audio src="chapter1_audio.mp3" clipBegin="0:25:45.515" clipEnd="0:27:04.123"/&gt;
            &lt;/par&gt;
        &lt;/seq&gt;

        &lt;!-- another paragraph, part of the document text that comes after the glossary --&gt;
        &lt;par id="id7"&gt;
            &lt;text src="chapter1.xhtml#para2"/&gt;
            &lt;audio src="chapter1_audio.mp3" clipBegin="0:27:04.123" clipEnd="0:27:59.000"/&gt;
        &lt;/par&gt;
    &lt;/body&gt;
&lt;/smil&gt;</pre></div></section></section></section><div class="appendix" title="Appendix A. Media Overlays Schema" id="app-overlays-schema"><div class="titlepage"><div><div><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-overlays-schema">›</a> </span>Appendix A. Media Overlays Schema</h2></div></div></div><p>The schema for Media Overlays is available at <a href="http://idpf.org/epub/30/schema/media-overlay-30.nvdl">../schema/media-overlay-30.nvdl</a>. </p><p>This schema is normative.</p><section class="section" title="A.1 Using the Media Overlays Schema" id="app-overlays-schema-using"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-overlays-schema-using">›</a> </span>A.1 Using the Media Overlays Schema</h3><p class="informative"> This section is informative</p><p>Validation of Media Overlays using this schema will require a processor that supports <a class="biblioref" href="epub30-references.xhtml#refNVDL" title="ISO/IEC 19757-4: NVDL (Namespace-based Validation Dispatching Language)">[<abbr>NVDL</abbr>]</a>, <a class="biblioref" href="epub30-references.xhtml#refRelaxNG" title="ISO/IEC 19757-2: Regular-grammar-based validation — RELAX NG. Second Edition">[<abbr>RelaxNG</abbr>]</a> and <a class="biblioref" href="epub30-references.xhtml#refISOSchematron" title="ISO/IEC 19757-3: Rule-based validation — Schematron">[<abbr>ISOSchematron</abbr>]</a>. </p><p>Note, however, that the NVDL schema layer can be substituted by a two-pass validation using the embedded RELAX NG and ISO Schematron schemas alone.</p></section></div><div class="appendix" title="Appendix B. Examples of Clock Values" id="app-clock-examples"><div class="titlepage"><div><div><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-clock-examples">›</a> </span>Appendix B. Examples of Clock Values</h2></div></div></div><p class="informative"> This appendix is informative</p><p>The following are examples of allowed clock values:</p><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">5:34:31.396</code> = 5 hours, 34 minutes, 31 seconds and 396 milliseconds</p></li><li class="listitem"><p><code class="literal">124:59:36</code> = 124 hours, 59 minutes and 36 seconds</p></li><li class="listitem"><p><code class="literal">0:05:01.2</code> = 5 minutes, 1 second and 200 milliseconds</p></li><li class="listitem"><p><code class="literal">0:00:04</code> = 4 minutes</p></li><li class="listitem"><p><code class="literal">09:58</code> = 9 minutes and 58 seconds</p></li><li class="listitem"><p><code class="literal">00:56.78</code> = 56 seconds and 780 milliseconds</p></li><li class="listitem"><p><code class="literal">76.2s</code> = 76.2 seconds = 76 seconds and 200 milliseconds</p></li><li class="listitem"><p><code class="literal">7.75h</code> = 7.75 hours = 7 hours and 45 minutes</p></li><li class="listitem"><p><code class="literal">13min</code> = 13 minutes</p></li><li class="listitem"><p><code class="literal">2345ms</code> = 2345 milliseconds</p></li><li class="listitem"><p><code class="literal">12.345</code> = 12 seconds and 345 milliseconds</p></li></ul></div></div></div></body></html>
